<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Создание новой нагрузки</title>
    <link rel="stylesheet" href="/styles/219-create-form.css">
</head>
<body>
    <header>
        <div class="button">
            <a class="button__link" th:href="@{/}">В главное меню</a>
        </div>
        <div class="header__title">Создание новой нагрузки</div>
    </header>

    <main>
        <h1>Новая нагрузка</h1>
        <form class="main__create-form" id="firstForm" method="post" th:action="@{/class-room/number/219/loads-info/create}">
            <div>
                <label for="localDate">Дата:</label>
                <input type="date" name="localDate" id="localDate" th:value="${payload?.localDate()}">
                <div th:if="${errors != null && errors.containsKey('localDate')}">
                    <label class="label-error" th:text="${errors.get('localDate')}"></label>
                </div>
            </div>
            <div>
                <label for="localTime">Время:</label>
                <input type="time" name="localTime" id="localTime" th:value="${payload?.localTime()}">
                <div th:if="${errors != null && errors.containsKey('localTime')}">
                    <label class="label-error" th:text="${errors.get('localTime')}"></label>
                </div>
            </div>
            <div>
                <label for="type">Тип:</label>
                <input type="text" name="type" id="type" th:value="${payload?.type()}">
                <div th:if="${errors != null && errors.containsKey('type')}">
                    <label class="label-error" th:text="${errors.get('type')}"></label>
                </div>
            </div>
            <div>
                <label for="responsible">Ответственный: </label>
                <input type="text" name="responsible" id="responsible" th:value="${payload?.responsible()}">
                <div th:if="${errors != null && errors.containsKey('responsible')}">
                    <label class="label-error" th:text="${errors.get('responsible')}"></label>
                </div>
            </div>
            <div>
                <label for="description">Комментарий:</label>
                <textarea name="description" id="description" th:text="${payload?.description()}"></textarea>
                <div th:if="${errors != null && errors.containsKey('description')}">
                    <label class="label-error" th:text="${errors.get('description')}"></label>
                </div>
            </div>
            <button class="button create-form__button" type="submit">Создать</button>
        </form>
        <div class="button">
            <a class="button__link" th:href="@{/class-room/number/219/loads-info/list(startDate=${session.get('startDate')},endDate=${session.get('endDate')})}">Назад</a>
        </div>

        <div id="dialog" class="dialog-overlay" th:if="${showAuthorizationDialog}">
            <div class="dialog-content">
                <h2>Авторизация</h2>
                <form id="loginForm" method="post" th:action="@{/class-room/number/219/loads-info/create}">
                    <div>
                        <label for="username">Логин:</label>
                        <input type="text" id="username" name="username" required></div>
                    <div>
                        <label for="password">Пароль:</label>
                        <input type="password" id="password" name="password" required>
                    </div>
                    <div th:if="${authError}">
                        <label class="label-error">Неверно введены логин или пароль</label>
                    </div>
                    <div class="login-form__buttons">
                        <button class="button create-form__button" type="submit">Ок</button>
                        <button class="button create-form__button" type="button" onclick="closeDialog()">Отмена</button>
                    </div>
                </form>
            </div>
            <script th:inline="javascript" src="/scripts/219-create-form.js"></script>
        </div>
    </main>

    <footer>
        Copyright © 2024 | Все права защищены, Поддержка веб-сервиса <a class="footer__link--cit-site" href="https://cit.vstu.by/">cit.vstu.by</a>
    </footer>
    <script src="/scripts/219-create-form-first-form.js"></script>
</body>
</html>